Index: js/src/jscpucfg.c
===================================================================
RCS file: /cvsroot/mozilla/js/src/jscpucfg.c,v
retrieving revision 3.25.2.1
diff -u -r3.25.2.1 jscpucfg.c
--- js/src/jscpucfg.c	29 Jun 2007 20:30:27 -0000	3.25.2.1
+++ js/src/jscpucfg.c	25 Nov 2007 19:49:45 -0000
@@ -44,6 +44,8 @@
 #include <stdio.h>
 #include <stdlib.h>
 
+#define CROSS_COMPILE 1
+
 #ifdef CROSS_COMPILE
 #include <prtypes.h>
 #define INT64 PRInt64
Index: js/src/xpconnect/loader/mozJSComponentLoader.cpp
===================================================================
RCS file: /cvsroot/mozilla/js/src/xpconnect/loader/mozJSComponentLoader.cpp,v
retrieving revision 1.109.2.8
diff -u -r1.109.2.8 mozJSComponentLoader.cpp
--- js/src/xpconnect/loader/mozJSComponentLoader.cpp	30 Aug 2007 15:56:08 -0000	1.109.2.8
+++ js/src/xpconnect/loader/mozJSComponentLoader.cpp	25 Nov 2007 19:49:46 -0000
@@ -85,7 +85,7 @@
 
 /* Some platforms don't have an implementation of PR_MemMap(). */
 /* See bug 318077 for WinCE.                                   */
-#if !defined(XP_BEOS) && !defined(XP_OS2) && !defined(WINCE)
+#if !defined(XP_BEOS) && !defined(XP_OS2) && !defined(WINCE) && !defined(RISCOS)
 #define HAVE_PR_MEMMAP
 #endif
 

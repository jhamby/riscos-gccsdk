AB_URL=https://files.pythonhosted.org/packages/30/70/578521a22783112ae3dc01e33b23429151edeecb585c7b1ed58feee7fef3/yt-dlp-2023.2.17.tar.gz
AB_PACKAGES=yt-dlp
AB_CATEGORY=System
AB_ROVERSION=1
AB_PRECONF=:
AB_MAKE=:

python3 setup.py build

ab_package() {

  mkdir -p $D/yt-dlp/Resources/!PythonSite/Python38/Site-Packages
  mkdir -p $D/yt-dlp/Resources/!PythonSite/Scripts

  cp -rav $S/build/lib/yt_dlp $D/yt-dlp/Resources/!PythonSite/Python38/Site-Packages
  cp -av $H/yt-dlp,feb $D/yt-dlp/Resources/!PythonSite/Scripts

  $AB_HOME/add-riscpkg -section Development -package yt-dlp -name YT-DLP -depends "Python-38" \
   -depends ZLib1g -depends LibSSL -depends TaskRunner -copyrightfile LICENSE

  mkdir -p $D/yt-dlp/RiscPkg

cat <<EOF  >> $D/yt-dlp/RiscPkg/Control,fff
Description: A youtube-dl fork with additional features and fixes
 yt-dlp is a youtube-dl fork based on the now inactive youtube-dlc. The main
 focus of this project is adding new features and patches while also keeping
 up to date with the original project
EOF

}


; generated by Norcroft RISC OS ARM C vsn 5.06 (Acorn Computers Ltd) [May 25 1995]

        AREA |C$$code|, CODE, READONLY
|x$codeseg|

        EXPORT  test
test
        MOV      ip,sb
        STMDB    sp!,{sb}
        MOV      sb,ip
        LDR      a1,0+|x$adcons|
        LDRB     a2,[a1,#0]
        TEQ      a2,#0
        MOVNE    a1,#0
        LDMNEIA  sp!,{sb}
        MOVNES   pc,lr
        MOV      a2,#&63
        STRB     a2,[a1,#0]
        MOV      a2,#5
        LDR      a1,4+|x$adcons|
        STR      a2,[a1,#0]
        MOV      a2,#6
        STR      a2,[a1,#4]!
        MOV      a1,#1
        LDMIA    sp!,{sb}
        MOVS     pc,lr

        AREA |C$$data|,DATA

|x$dataseg|
        DCD     &00000000
        DCD     &00000001

        AREA |C$$zidata|,NOINIT
|x$bssseg|
        % 256

        AREA |sb$$adcons|,BASED sb

|x$adcons|
        DCD     |x$bssseg|
        DCD     |x$dataseg|

        END
